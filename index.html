<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analizador de Tokens - Modelos de IA</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Add tiktoken library for accurate tokenization -->
    <script src="https://cdn.jsdelivr.net/npm/@dqbd/tiktoken@1.0.15/tiktoken.js"></script>
</head>
<body>
    <div class="container">
        <header class="app-header">
            <h1><i class="fas fa-brain"></i> Analizador de Tokens IA</h1>
            <p class="subtitle">Visualiza c√≥mo los modelos de IA procesan y tokenizan tu texto</p>
        </header>
        
        <div class="main-content">
            <div class="input-section">
                <div class="model-selection">
                    <label for="model-select">
                        <i class="fas fa-robot"></i> Selecciona un modelo de IA:
                    </label>
                    <div class="select-wrapper">
                        <select id="model-select">
                            <optgroup label="ü§ñ OpenAI">
                                <option value="gpt-4o">GPT-4o</option>
                                <option value="gpt-4o-mini">GPT-4o Mini</option>
                                <option value="gpt-4-turbo">GPT-4 Turbo</option>
                                <option value="gpt-4">GPT-4</option>
                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                            </optgroup>
                            <optgroup label="üß† Anthropic">
                                <option value="claude-3.5-sonnet">Claude 3.5 Sonnet</option>
                                <option value="claude-3-opus">Claude 3 Opus</option>
                                <option value="claude-3-sonnet">Claude 3 Sonnet</option>
                                <option value="claude-3-haiku">Claude 3 Haiku</option>
                            </optgroup>
                            <optgroup label="üîç Google">
                                <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                                <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                            </optgroup>
                            <optgroup label="üìò Meta">
                                <option value="llama-3.1-405b">Llama 3.1 405B</option>
                                <option value="llama-3.1-70b">Llama 3.1 70B</option>
                                <option value="llama-3.1-8b">Llama 3.1 8B</option>
                                <option value="llama-3-70b">Llama 3 70B</option>
                                <option value="llama-3-8b">Llama 3 8B</option>
                            </optgroup>
                            <optgroup label="üí® Mistral AI">
                                <option value="mistral-large">Mistral Large</option>
                                <option value="mistral-nemo">Mistral Nemo</option>
                                <option value="mixtral-8x7b">Mixtral 8x7B</option>
                                <option value="mixtral-8x22b">Mixtral 8x22B</option>
                            </optgroup>
                            <optgroup label="üîó Cohere">
                                <option value="command-r+">Command R+</option>
                                <option value="command-r">Command R</option>
                            </optgroup>
                            <optgroup label="üõí Alibaba">
                                <option value="qwen2.5-72b">Qwen2.5 72B</option>
                                <option value="qwen2-72b">Qwen2 72B</option>
                            </optgroup>
                            <optgroup label="üîç DeepSeek">
                                <option value="deepseek-v2.5">DeepSeek V2.5</option>
                                <option value="deepseek-v2">DeepSeek V2</option>
                            </optgroup>
                            <optgroup label="ü§ñ 01.AI">
                                <option value="yi-large">Yi Large</option>
                                <option value="yi-1.5-34b">Yi 1.5 34B</option>
                            </optgroup>
                            <optgroup label="ÔøΩ Microsoft">
                                <option value="phi-3.5-mini">Phi-3.5 Mini</option>
                                <option value="phi-3-medium">Phi-3 Medium</option>
                                <option value="phi-3-mini">Phi-3 Mini</option>
                            </optgroup>
                            <optgroup label="üß™ AI21 Labs">
                                <option value="jamba-1.5-large">Jamba 1.5 Large</option>
                                <option value="jamba-1.5-mini">Jamba 1.5 Mini</option>
                            </optgroup>
                            <optgroup label="‚ùå xAI">
                                <option value="grok-2">Grok-2</option>
                                <option value="grok-2-mini">Grok-2 Mini</option>
                            </optgroup>
                            <optgroup label="ü¶Ñ Reka">
                                <option value="reka-core">Reka Core</option>
                                <option value="reka-flash">Reka Flash</option>
                            </optgroup>
                            <optgroup label="üì¶ Amazon">
                                <option value="titan-text-premier">Titan Text Premier</option>
                                <option value="titan-text-express">Titan Text Express</option>
                            </optgroup>
                            <optgroup label="‚ùì Perplexity">
                                <option value="llama-3.1-sonar-large">Llama 3.1 Sonar Large</option>
                                <option value="llama-3.1-sonar-small">Llama 3.1 Sonar Small</option>
                            </optgroup>
                            <optgroup label="üíº IBM">
                                <option value="granite-3-8b">Granite 3 8B</option>
                                <option value="granite-3-2b">Granite 3 2B</option>
                            </optgroup>
                            <optgroup label="üî¨ Nous Research">
                                <option value="hermes-3-405b">Hermes 3 405B</option>
                                <option value="hermes-3-70b">Hermes 3 70B</option>
                            </optgroup>
                            <optgroup label="‚ùÑÔ∏è Snowflake">
                                <option value="arctic">Snowflake Arctic</option>
                            </optgroup>
                            <optgroup label="üíö NVIDIA">
                                <option value="nemotron-70b">Nemotron 70B</option>
                                <option value="nemotron-mini">Nemotron Mini</option>
                            </optgroup>
                        </select>
                        <i class="fas fa-chevron-down select-arrow"></i>
                    </div>
                </div>

                <div class="text-input-section">
                    <label for="text-input">
                        <i class="fas fa-edit"></i> Ingresa tu texto:
                    </label>
                    <textarea 
                        id="text-input" 
                        placeholder="Texto a analizar..."
                        rows="6"
                    ></textarea>
                    <div class="input-actions">
                        <button id="clear-btn" class="btn btn-secondary">
                            <i class="fas fa-trash"></i> Limpiar
                        </button>
                    </div>
                </div>
            </div>

            <div class="results-section" id="results-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-hashtag"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="token-count">0</span>
                            <span class="stat-label">Total de Tokens</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-font"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="char-count">0</span>
                            <span class="stat-label">Caracteres</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="word-count">0</span>
                            <span class="stat-label">Palabras</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="cost-estimate">$0.00</span>
                            <span class="stat-label">Costo Estimado</span>
                        </div>
                    </div>
                </div>

                <div class="model-info" id="model-info">
                    <h3><i class="fas fa-info-circle"></i> Informaci√≥n del Modelo</h3>
                    <div class="model-details">
                        <p><strong>Modelo seleccionado:</strong> <span id="selected-model-name"></span></p>
                        <p><strong>L√≠mite de contexto:</strong> <span id="context-limit"></span> tokens</p>
                        <p><strong>Tipo de tokenizaci√≥n:</strong> <span id="tokenization-type"></span></p>
                        <p><strong>Algoritmo activo:</strong> <span id="active-algorithm" style="color: var(--primary-color); font-weight: 600;"></span></p>
                        <p><strong>Costo:</strong> <span id="cost-per-1k"></span></p>
                        <p><strong>Detalles del modelo:</strong> <a id="model-details-link" href="#" target="_blank" style="color: var(--primary-color); text-decoration: none;">Ver en Artificial Analysis <i class="fas fa-external-link-alt" style="font-size: 0.8em; margin-left: 4px;"></i></a></p>
                    </div>
                </div>

                <div class="tokens-visualization">
                    <h3><i class="fas fa-eye"></i> Visualizaci√≥n de Tokens</h3>
                    <div class="tokens-container" id="tokens-container">
                        <p style="color: var(--text-secondary); font-style: italic;">Escribe algo para ver los tokens...</p>
                    </div>
                </div>

                <div class="tokens-list">
                    <h3><i class="fas fa-list"></i> Lista de Tokens</h3>
                    <div class="tokens-array" id="tokens-array">
                        <p style="color: var(--text-secondary); font-style: italic;">Los tokens aparecer√°n aqu√≠...</p>
                    </div>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <p>Alex Blandino ‚Ä¢ <span id="current-year">2024</span></p>
        </footer>
    </div>

    <!-- Load modular components -->
    <script src="js/config/models-config.js"></script>
    <script src="js/services/tokenization-service.js"></script>
    <script src="js/controllers/ui-controller.js"></script>
    <script src="js/utils/statistics-calculator.js"></script>
    <!-- Main application -->
    <script src="js/token-analyzer.js"></script>
    <script>
        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            new TokenAnalyzer();
        });
    </script>
</body>
</html>
